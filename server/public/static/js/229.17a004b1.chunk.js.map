{"version":3,"file":"static/js/229.17a004b1.chunk.js","mappings":"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","sources":["components/ReactMarkdownRender/index.tsx","webpack://front-end/./src/pages/MainPage/BlogManage/index.module.scss?1349","webpack://front-end/./src/components/MarkdownEditor/index.module.scss?f01a","components/MarkdownEditor/index.tsx","pages/MainPage/BlogManage/index.tsx"],"sourcesContent":["import React from 'react';\n\n// markdown\nimport ReactMarkdown from 'react-markdown';\nimport remarkMath from 'remark-math';\nimport rehypeKatex from 'rehype-katex';\nimport rehypeRaw from 'rehype-raw';\nimport remarkGfm from 'remark-gfm';\nimport { PrismLight as SyntaxHighlighter } from 'react-syntax-highlighter';\n// import { a11yDark } from 'react-syntax-highlighter/dist/esm/styles/prism';\nimport { oneLight } from 'react-syntax-highlighter/dist/esm/styles/prism';\nimport jsx from 'react-syntax-highlighter/dist/esm/languages/prism/jsx';\n// 加入jsx渲染\nSyntaxHighlighter.registerLanguage('jsx', jsx);\n\n// css\nimport 'github-markdown-css';\nimport './index.scss';\n\ninterface ReactMarkdownWrapperProps {\n  children: string;\n}\n\nconst ReactMarkdownRender: React.FC<ReactMarkdownWrapperProps> = ({ children }) => {\n  return (\n    <ReactMarkdown\n      className=\"markdown-body\"\n      remarkPlugins={[remarkMath, remarkGfm]}\n      rehypePlugins={[rehypeKatex, rehypeRaw]}\n      components={{\n        code({ node, inline, className, children, ...props }) {\n          const match = /language-(\\w+)/.exec(className || '');\n          return !inline && match ? (\n            <SyntaxHighlighter {...props} style={oneLight} language={match[1]} PreTag=\"div\">\n              {String(children).replace(/\\n$/, '')}\n            </SyntaxHighlighter>\n          ) : (\n            <code {...props} className={className}>\n              {children}\n            </code>\n          );\n        },\n      }}\n    >\n      {children}\n    </ReactMarkdown>\n  );\n};\n\nexport default ReactMarkdownRender;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"BlogManage_wrapper__d3LAd\",\"show\":\"BlogManage_show__fLrEn\",\"sider\":\"BlogManage_sider__ccAYg\",\"content\":\"BlogManage_content__cLxva\",\"editState\":\"BlogManage_editState__s0Q8E\",\"inputBox\":\"BlogManage_inputBox__5MrN2\",\"editor\":\"BlogManage_editor__PocT2\",\"submitBtn\":\"BlogManage_submitBtn__0KI33\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MarkdownEditor_wrapper__fH2og\",\"editor\":\"MarkdownEditor_editor__dNZ27\",\"preview\":\"MarkdownEditor_preview__Iaqx9\",\"previewTips\":\"MarkdownEditor_previewTips__skJtm\"};","import React from 'react';\nimport MDEditor from '@uiw/react-md-editor';\n\n// comp\n// import ReactMarkdownRender from '@/components/ReactMarkdownRender';\n\n// css\nimport style from './index.module.scss';\nimport './editor.scss';\n\n// redux\nimport { useAppDispatch, useAppSelector } from '@/redux';\nimport { setContent } from '@/redux/slices/blog';\n\nconst MarkdownEditor = () => {\n  const { content } = useAppSelector(state => state.blog.writeContent);\n  const dispatch = useAppDispatch();\n  return (\n    <div className={`${style.wrapper} clearfix`}>\n      <div className={style.editor}>\n        <MDEditor\n          value={content}\n          preview=\"edit\"\n          onChange={value => {\n            dispatch(setContent(value));\n          }}\n        />\n      </div>\n      {/* 预览字数多时会卡顿暂时不提供实时预览 */}\n      {/*<div className={style.preview}>*/}\n      {/*  <div className={style.previewTips}>预览</div>*/}\n      {/*  <ReactMarkdownRender>{preview}</ReactMarkdownRender>*/}\n      {/*</div>*/}\n    </div>\n  );\n};\nexport default MarkdownEditor;\n","import React, { useEffect, useState } from 'react';\n\n// antd\nimport { Input, TreeSelect, Button, Drawer, Dropdown, Space } from 'antd';\nimport { DownOutlined } from '@ant-design/icons';\nimport type { MenuProps } from 'antd';\n\n// css\nimport style from './index.module.scss';\n\n// comp\nimport SideMenu from '@/components/SideMenu';\nimport MarkdownEditor from '@/components/MarkdownEditor';\nimport ReactMarkdownRender from '@/components/ReactMarkdownRender';\nimport Footer from '@/components/Footer';\n\n// utils\nimport { filterLT, getSideMenuItem, getTreeSelectList, hasBlog } from '@/utils';\n\n// redux\nimport { useAppDispatch, useAppSelector } from '@/redux';\nimport { addBlogMenu, setSelectedId, deleteMenu } from '@/redux/slices/blogMenu';\nimport { setMenuId, setTitle, setMenuTitle, initWriteContent, setIsEdit, setAllContent } from '@/redux/slices/blog';\n\n// context\nimport { useIcons } from '@/components/ContextProvider/IconStore';\nimport { useGlobalMessage } from '@/components/ContextProvider/MessageProvider';\nimport { useGlobalModal } from '@/components/ContextProvider/ModalProvider';\n\n// api\nimport { addBlogAjax, getCurBlog, updateBlogAjax } from '@/api/blog';\n\n// interface\nimport { SideMenuItem } from '@/interface';\nimport { setChosenList } from '@/redux/slices/chosenList';\nimport { useViewport } from '@/components/ContextProvider/ViewportProvider';\n\nconst BlogManage = () => {\n  const menus = useAppSelector(state => state.blogMenu.menuList);\n  const modal = useGlobalModal();\n  const message = useGlobalMessage();\n  const dispatch = useAppDispatch();\n  const { width } = useViewport();\n  // text info\n  const { title, menuId, content, menuTitle } = useAppSelector(state => state.blog.writeContent);\n  const isEdit = useAppSelector(state => state.blog.isEdit);\n  const selectedId = useAppSelector(state => state.blogMenu.selectedId);\n  const icons = useIcons();\n  const antdMenus = getTreeSelectList(menus, icons, true);\n  // 提交按钮loading状态\n  const [isLoading, setIsLoading] = useState(false);\n  // 预览打开state\n  const [open, setOpen] = useState(false);\n  useEffect(() => {\n    // 初始化设置content和sider高度为视窗高度-TopHeader高度（为了设置滚动，且缩放时能看到全貌）\n    const content = document.getElementById('blog-manage-content-wrapper') as HTMLElement;\n    const sider = document.getElementById('blog-manage-sider-wrapper') as HTMLElement;\n    content.style.height = window.innerHeight - 50 + 'px';\n    if (sider) {\n      sider.style.height = window.innerHeight - 50 + 'px';\n    }\n  }, [width, window.innerHeight]);\n\n  useEffect(() => {\n    dispatch(setChosenList([false, false, true, false]));\n  }, []);\n  // 编辑状态菜单\n  const items: MenuProps['items'] = [\n    {\n      key: '1',\n      label: <div style={{ fontSize: '1vw' }}>Update</div>,\n      onClick: () => {\n        if (!hasBlog(menus) && !selectedId) {\n          message.error('当前没有博客可供编辑！');\n          return;\n        }\n        modal.confirm({\n          title: '提示',\n          content: '编辑当前博客会覆盖正在编辑的内容，确定要这么做吗？',\n          onOk: () => {\n            getCurBlog(selectedId).then(\n              response => {\n                const blog = response.data.blog;\n                const { belongingMenu, contents, title } = blog;\n                const menu = getSideMenuItem(menus, belongingMenu) as SideMenuItem;\n                dispatch(\n                  setAllContent({\n                    title,\n                    menuId: menu.id,\n                    menuTitle: menu.title,\n                    content: filterLT(contents),\n                  })\n                );\n                dispatch(setIsEdit(true));\n              },\n              err => {\n                message.error(err.message);\n              }\n            );\n          },\n        });\n      },\n    },\n    {\n      key: '2',\n      label: <div style={{ fontSize: '1vw' }}>Add</div>,\n      onClick: () => {\n        modal.confirm({\n          title: '提示',\n          content: '添加博客会情况当前编辑状态，确定要这么做吗？',\n          onOk: () => {\n            dispatch(initWriteContent());\n            dispatch(setIsEdit(false));\n          },\n        });\n      },\n    },\n  ];\n  const handleSubmit = async () => {\n    setIsLoading(true);\n    await addBlogAjax(\n      {\n        title,\n        belongingMenu: menuId,\n        contents: content,\n      },\n      async data => {\n        await message.loadingSuccessAsync('提交中...', '提交成功！');\n        const blog = data.newBlog;\n        // 如果当前没有blog，则创建完毕后默认选中该blog\n        if (!hasBlog(menus)) {\n          dispatch(setSelectedId(blog.id));\n        }\n        // 更新主页博客信息\n        dispatch(addBlogMenu(blog as SideMenuItem));\n        dispatch(initWriteContent());\n        setIsLoading(false);\n      },\n      content => {\n        message.error(content);\n        setIsLoading(false);\n      }\n    );\n  };\n\n  const handleUpdate = async () => {\n    setIsLoading(true);\n    await updateBlogAjax(\n      {\n        blogId: selectedId,\n        data: {\n          title,\n          belongingMenu: menuId,\n          contents: content,\n          updateAt: Date.now(),\n        },\n      },\n      async () => {\n        await message.loadingSuccessAsync('更新中...', '更新成功！');\n        dispatch(initWriteContent());\n        // 更新主页博客信息\n        dispatch(deleteMenu(selectedId));\n        dispatch(\n          addBlogMenu({\n            id: selectedId,\n            title,\n            belongingMenu: menuId,\n          })\n        );\n        dispatch(setIsEdit(false));\n        setIsLoading(false);\n      },\n      content => {\n        message.error(content);\n        setIsLoading(false);\n      }\n    );\n  };\n\n  return (\n    <div className={`${style.wrapper} clearfix`}>\n      <div id=\"blog-manage-sider-wrapper\" className={style.sider}>\n        <SideMenu page=\"manage\"></SideMenu>\n      </div>\n      <div id=\"blog-manage-content-wrapper\" className={style.content}>\n        <div className={style.editState}>\n          当前状态：\n          <Dropdown menu={{ items, selectable: true, selectedKeys: [isEdit ? '1' : '2'] }}>\n            <a\n              onClick={e => {\n                e.preventDefault();\n              }}\n            >\n              <Space>\n                {isEdit ? 'Update' : 'Add'}\n                <DownOutlined />\n              </Space>\n            </a>\n          </Dropdown>\n        </div>\n        <div className={style.inputBox}>\n          <Input\n            showCount\n            placeholder=\"Title\"\n            maxLength={50}\n            style={{ fontSize: '2vw' }}\n            value={title}\n            onChange={e => {\n              dispatch(setTitle(e.target.value));\n            }}\n          />\n          <TreeSelect\n            treeIcon\n            placeholder=\"请选择分类\"\n            treeLine={true}\n            treeData={antdMenus}\n            value={menuTitle || undefined}\n            treeDefaultExpandAll\n            onChange={(key, title) => {\n              dispatch(setMenuId(key));\n              dispatch(setMenuTitle(title[0]));\n            }}\n          />\n        </div>\n        <div className={style.editor}>\n          <MarkdownEditor></MarkdownEditor>\n        </div>\n        <div className={style.submitBtn}>\n          {/* 是否处于编辑状态 */}\n          {isEdit ? (\n            <Button size=\"large\" loading={isLoading} onClick={handleUpdate}>\n              更新\n            </Button>\n          ) : (\n            <Button size=\"large\" loading={isLoading} onClick={handleSubmit}>\n              提交\n            </Button>\n          )}\n          <Button\n            size=\"large\"\n            onClick={() => {\n              setOpen(true);\n            }}\n          >\n            预览\n          </Button>\n        </div>\n        <Footer></Footer>\n      </div>\n      <Drawer\n        destroyOnClose\n        title=\"总览\"\n        placement=\"right\"\n        width={width > 768 ? '50vw' : '75vw'}\n        onClose={() => {\n          setOpen(false);\n        }}\n        open={open}\n      >\n        <ReactMarkdownRender>{content}</ReactMarkdownRender>\n      </Drawer>\n    </div>\n  );\n};\n\nexport default BlogManage;\n"],"names":["SyntaxHighlighter","jsx","_ref","children","_jsx","ReactMarkdown","className","remarkPlugins","remarkMath","remarkGfm","rehypePlugins","rehypeKatex","rehypeRaw","components","code","_ref2","node","inline","props","_objectWithoutProperties","_excluded","match","exec","_objectSpread","style","oneLight","language","PreTag","String","replace","content","useAppSelector","state","blog","writeContent","dispatch","useAppDispatch","concat","MDEditor","value","preview","onChange","setContent","menus","blogMenu","menuList","modal","useGlobalModal","message","useGlobalMessage","width","useViewport","_useAppSelector","title","menuId","menuTitle","isEdit","selectedId","icons","useIcons","antdMenus","getTreeSelectList","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","open","setOpen","useEffect","document","getElementById","sider","height","window","innerHeight","setChosenList","items","key","label","fontSize","onClick","hasBlog","confirm","onOk","getCurBlog","then","response","data","belongingMenu","contents","menu","getSideMenuItem","setAllContent","id","filterLT","setIsEdit","err","error","initWriteContent","handleSubmit","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_context2","prev","next","addBlogAjax","_callee","_context","loadingSuccessAsync","newBlog","setSelectedId","addBlogMenu","stop","_x","apply","arguments","handleUpdate","_ref3","_callee4","_context4","updateBlogAjax","blogId","updateAt","Date","now","_callee3","_context3","deleteMenu","_jsxs","SideMenu","page","Dropdown","selectable","selectedKeys","e","preventDefault","Space","DownOutlined","Input","showCount","placeholder","maxLength","setTitle","target","TreeSelect","treeIcon","treeLine","treeData","undefined","treeDefaultExpandAll","setMenuId","setMenuTitle","MarkdownEditor","Button","size","loading","Footer","Drawer","destroyOnClose","placement","onClose","ReactMarkdownRender"],"sourceRoot":""}